<section class="checkout-section">
  <div class="container">
    <div class="logo">
      <a [routerLink]="['/']">
        <img class="lg-logo" src="assets/images/logo/logo-white.png" alt="My Trending Stories">
      </a>
    </div>


    <div class="checkout-box">
      <div class="step-checkout-detail">
        <nz-steps [nzCurrent]="current">
          <nz-step nzTitle="Acount Information"></nz-step>
          <nz-step nzTitle="Delivery Address"></nz-step>
          <nz-step nzTitle="Payment Options"></nz-step>
          <nz-step nzTitle="Order Status"></nz-step>
        </nz-steps>
        <div class="checkout-content">
          <div class="checkout-step-0" *ngIf="current === loginStatusStep">
            <app-shop-login></app-shop-login>
          </div>

          <div class="checkout-step-1" *ngIf="current === deliveryAddressStep">
            <form nz-form [formGroup]="userAddressForm" class="ant-advanced-search-form mt-4">
              <h2>Add Address</h2>
              <div class="row">
                <div class="col-md-4 col-sm-6">
                  <nz-form-item>
                    <nz-form-label>{{'first'|translate}}{{" "}}{{'name'|translate}} </nz-form-label>
                    <nz-form-control nzErrorTip="Please input your name">
                      <input type="text" nz-input formControlName="first_name" placeholder="Enter first name" />
                    </nz-form-control>
                  </nz-form-item>
                </div>
                <div class="col-md-4 col-sm-6">
                  <nz-form-item>
                    <nz-form-label>{{'last'|translate}}{{" "}}{{'name'|translate}} </nz-form-label>
                    <nz-form-control nzErrorTip="Please input your name">
                      <input type="text" nz-input formControlName="last_name" placeholder="Enter last name" />
                    </nz-form-control>
                  </nz-form-item>
                </div>
                <div class="col-md-4 col-sm-6">
                  <nz-form-item>
                    <nz-form-label>{{'mobile'|translate}} </nz-form-label>
                    <nz-form-control nzErrorTip="Please input your mobile number">
                      <input type="number" nz-input formControlName="mobile_number" placeholder="Enter mobile" />
                    </nz-form-control>
                  </nz-form-item>
                </div>
                <div class="col-md-4 col-sm-6">
                  <nz-form-item>
                    <nz-form-label>Alternate Phone (Optional) </nz-form-label>
                    <nz-form-control>
                      <input type="number" nz-input formControlName="alternate_mobile_number"
                        placeholder="Enter alternate phone" />
                    </nz-form-control>
                  </nz-form-item>
                </div>
                <div class="col-md-4 col-sm-6">
                  <nz-form-item>
                    <nz-form-label>Address </nz-form-label>
                    <nz-form-control [nzErrorTip]= "textValue.value.length > 50 ? 'Please input your address withing 50 Charecter' : textValue.value.length == 0 ? 'Please input your address' : ' ' "

                    >
                      <textarea type="text" #textValue nz-input formControlName="address" placeholder="Enter address"
                        [nzAutosize]="{ minRows: 2, maxRows: 2 }"></textarea>
                    </nz-form-control>
                    <!-- <span class="text-danger" >
                      {{textValue.value.length}}/50
                     </span> -->
                  </nz-form-item>
                </div>
                <div class="col-md-4 col-sm-6">
                  <nz-form-item>
                    <nz-form-label>City </nz-form-label>
                    <nz-form-control nzErrorTip="Please input your city name">
                      <input type="text" nz-input formControlName="city" placeholder="Enter city" />
                    </nz-form-control>
                  </nz-form-item>
                </div>
                <div class="col-md-4 col-sm-6">
                  <nz-form-item>
                    <nz-form-label>State Code </nz-form-label>
                    <nz-form-control nzErrorTip="Please input your state code">
                      <input type="text" nz-input formControlName="state" placeholder="Enter state code" />
                    </nz-form-control>
                  </nz-form-item>
                </div>
                <div class="col-md-4 col-sm-6">
                  <nz-form-item>
                    <nz-form-label>Postal Code</nz-form-label>
                    <nz-form-control nzErrorTip="Please input your postal code">
                      <input (blur)="saveAddress()" type="text" nz-input formControlName="postal_code"
                        placeholder="Enter postal code" />
                    </nz-form-control>
                  </nz-form-item>
                </div>
                <div class="col-md-4 col-sm-6 position-relative">
                  <nz-form-item>
                    <nz-form-label>Country </nz-form-label>
                    <nz-form-control nzErrorTip="Select your Country">
                      <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Select country" formControlName="country_code"
                        (ngModelChange)="saveAddress()" (ngModelChange)="checkCrossCrountryProductShipping($event)">
                        <nz-option nzValue="AF" nzLabel="Afghanistan"></nz-option>
                        <nz-option nzValue="AX" nzLabel="Aland Islands"></nz-option>
                        <nz-option nzValue="AL" nzLabel="Albania"></nz-option>
                        <nz-option nzValue="DZ" nzLabel="Algeria"></nz-option>
                        <nz-option nzValue="AS" nzLabel="American Samoa"></nz-option>
                        <nz-option nzValue="AD" nzLabel="Andorra"></nz-option>
                        <nz-option nzValue="AO" nzLabel="Angola"></nz-option>
                        <nz-option nzValue="AI" nzLabel="Anguilla"></nz-option>
                        <nz-option nzValue="AQ" nzLabel="Antarctica"></nz-option>
                        <nz-option nzValue="AG" nzLabel="Antigua and Barbuda"></nz-option>
                        <nz-option nzValue="AR" nzLabel="Argentina"></nz-option>
                        <nz-option nzValue="AM" nzLabel="Armenia"></nz-option>
                        <nz-option nzValue="AW" nzLabel="Aruba"></nz-option>
                        <nz-option nzValue="AU" nzLabel="Australia"></nz-option>
                        <nz-option nzValue="AT" nzLabel="Austria"></nz-option>
                        <nz-option nzValue="AZ" nzLabel="Azerbaijan"></nz-option>
                        <nz-option nzValue="BS" nzLabel="Bahamas"></nz-option>
                        <nz-option nzValue="BH" nzLabel="Bahrain"></nz-option>
                        <nz-option nzValue="BD" nzLabel="Bangladesh"></nz-option>
                        <nz-option nzValue="BB" nzLabel="Barbados"></nz-option>
                        <nz-option nzValue="BY" nzLabel="Belarus"></nz-option>
                        <nz-option nzValue="BE" nzLabel="Belgium"></nz-option>
                        <nz-option nzValue="BZ" nzLabel="Belize"></nz-option>
                        <nz-option nzValue="BJ" nzLabel="Benin"></nz-option>
                        <nz-option nzValue="BM" nzLabel="Bermuda"></nz-option>
                        <nz-option nzValue="BT" nzLabel="Bhutan"></nz-option>
                        <nz-option nzValue="BO" nzLabel="Bolivia"></nz-option>
                        <nz-option nzValue="BQ" nzLabel="Bonaire, Sint Eustatius and Saba"></nz-option>
                        <nz-option nzValue="BA" nzLabel="Bosnia and Herzegovina"></nz-option>
                        <nz-option nzValue="BW" nzLabel="Botswana"></nz-option>
                        <nz-option nzValue="BV" nzLabel="Bouvet Island"></nz-option>
                        <nz-option nzValue="BR" nzLabel="Brazil"></nz-option>
                        <nz-option nzValue="IO" nzLabel="British Indian Ocean Territory"></nz-option>
                        <nz-option nzValue="BN" nzLabel="Brunei Darussalam"></nz-option>
                        <nz-option nzValue="BG" nzLabel="Bulgaria"></nz-option>
                        <nz-option nzValue="BF" nzLabel="Burkina Faso"></nz-option>
                        <nz-option nzValue="BI" nzLabel="Burundi"></nz-option>
                        <nz-option nzValue="KH" nzLabel="Cambodia"></nz-option>
                        <nz-option nzValue="CM" nzLabel="Cameroon"></nz-option>
                        <nz-option nzValue="CA" nzLabel="Canada"></nz-option>
                        <nz-option nzValue="CV" nzLabel="Cape Verde"></nz-option>
                        <nz-option nzValue="KY" nzLabel="Cayman Islands"></nz-option>
                        <nz-option nzValue="CF" nzLabel="Central African Republic"></nz-option>
                        <nz-option nzValue="TD" nzLabel="Chad"></nz-option>
                        <nz-option nzValue="CL" nzLabel="Chile"></nz-option>
                        <nz-option nzValue="CN" nzLabel="China"></nz-option>
                        <nz-option nzValue="CX" nzLabel="Christmas Island"></nz-option>
                        <nz-option nzValue="CC" nzLabel="Cocos (Keeling) Islands"></nz-option>
                        <nz-option nzValue="CO" nzLabel="Colombia"></nz-option>
                        <nz-option nzValue="KM" nzLabel="Comoros"></nz-option>
                        <nz-option nzValue="CG" nzLabel="Congo"></nz-option>
                        <nz-option nzValue="CD" nzLabel="Congo, Democratic Republic of the Congo"></nz-option>
                        <nz-option nzValue="CK" nzLabel="Cook Islands"></nz-option>
                        <nz-option nzValue="CR" nzLabel="Costa Rica"></nz-option>
                        <nz-option nzValue="CI" nzLabel="Cote D'Ivoire"></nz-option>
                        <nz-option nzValue="HR" nzLabel="Croatia"></nz-option>
                        <nz-option nzValue="CU" nzLabel="Cuba"></nz-option>
                        <nz-option nzValue="CW" nzLabel="Curacao"></nz-option>
                        <nz-option nzValue="CY" nzLabel="Cyprus"></nz-option>
                        <nz-option nzValue="CZ" nzLabel="Czech Republic"></nz-option>
                        <nz-option nzValue="DK" nzLabel="Denmark"></nz-option>
                        <nz-option nzValue="DJ" nzLabel="Djibouti"></nz-option>
                        <nz-option nzValue="DM" nzLabel="Dominica"></nz-option>
                        <nz-option nzValue="DO" nzLabel="Dominican Republic"></nz-option>
                        <nz-option nzValue="EC" nzLabel="Ecuador"></nz-option>
                        <nz-option nzValue="EG" nzLabel="Egypt"></nz-option>
                        <nz-option nzValue="SV" nzLabel="El Salvador"></nz-option>
                        <nz-option nzValue="GQ" nzLabel="Equatorial Guinea"></nz-option>
                        <nz-option nzValue="ER" nzLabel="Eritrea"></nz-option>
                        <nz-option nzValue="EE" nzLabel="Estonia"></nz-option>
                        <nz-option nzValue="ET" nzLabel="Ethiopia"></nz-option>
                        <nz-option nzValue="FK" nzLabel="Falkland Islands (Malvinas)"></nz-option>
                        <nz-option nzValue="FO" nzLabel="Faroe Islands"></nz-option>
                        <nz-option nzValue="FJ" nzLabel="Fiji"></nz-option>
                        <nz-option nzValue="FI" nzLabel="Finland"></nz-option>
                        <nz-option nzValue="FR" nzLabel="France"></nz-option>
                        <nz-option nzValue="GF" nzLabel="French Guiana"></nz-option>
                        <nz-option nzValue="PF" nzLabel="French Polynesia"></nz-option>
                        <nz-option nzValue="TF" nzLabel="French Southern Territories"></nz-option>
                        <nz-option nzValue="GA" nzLabel="Gabon"></nz-option>
                        <nz-option nzValue="GM" nzLabel="Gambia"></nz-option>
                        <nz-option nzValue="GE" nzLabel="Georgia"></nz-option>
                        <nz-option nzValue="DE" nzLabel="Germany"></nz-option>
                        <nz-option nzValue="GH" nzLabel="Ghana"></nz-option>
                        <nz-option nzValue="GI" nzLabel="Gibraltar"></nz-option>
                        <nz-option nzValue="GR" nzLabel="Greece"></nz-option>
                        <nz-option nzValue="GL" nzLabel="Greenland"></nz-option>
                        <nz-option nzValue="GD" nzLabel="Grenada"></nz-option>
                        <nz-option nzValue="GP" nzLabel="Guadeloupe"></nz-option>
                        <nz-option nzValue="GU" nzLabel="Guam"></nz-option>
                        <nz-option nzValue="GT" nzLabel="Guatemala"></nz-option>
                        <nz-option nzValue="GG" nzLabel="Guernsey"></nz-option>
                        <nz-option nzValue="GN" nzLabel="Guinea"></nz-option>
                        <nz-option nzValue="GW" nzLabel="Guinea-Bissau"></nz-option>
                        <nz-option nzValue="GY" nzLabel="Guyana"></nz-option>
                        <nz-option nzValue="HT" nzLabel="Haiti"></nz-option>
                        <nz-option nzValue="HM" nzLabel="Heard Island and Mcdonald Islands"></nz-option>
                        <nz-option nzValue="VA" nzLabel="Holy See (Vatican City State)"></nz-option>
                        <nz-option nzValue="HN" nzLabel="Honduras"></nz-option>
                        <nz-option nzValue="HK" nzLabel="Hong Kong"></nz-option>
                        <nz-option nzValue="HU" nzLabel="Hungary"></nz-option>
                        <nz-option nzValue="IS" nzLabel="Iceland"></nz-option>
                        <nz-option nzValue="IN" nzLabel="India"></nz-option>
                        <nz-option nzValue="ID" nzLabel="Indonesia"></nz-option>
                        <nz-option nzValue="IR" nzLabel="Iran, Islamic Republic of"></nz-option>
                        <nz-option nzValue="IQ" nzLabel="Iraq"></nz-option>
                        <nz-option nzValue="IE" nzLabel="Ireland"></nz-option>
                        <nz-option nzValue="IM" nzLabel="Isle of Man"></nz-option>
                        <nz-option nzValue="IL" nzLabel="Israel"></nz-option>
                        <nz-option nzValue="IT" nzLabel="Italy"></nz-option>
                        <nz-option nzValue="JM" nzLabel="Jamaica"></nz-option>
                        <nz-option nzValue="JP" nzLabel="Japan"></nz-option>
                        <nz-option nzValue="JE" nzLabel="Jersey"></nz-option>
                        <nz-option nzValue="JO" nzLabel="Jordan"></nz-option>
                        <nz-option nzValue="KZ" nzLabel="Kazakhstan"></nz-option>
                        <nz-option nzValue="KE" nzLabel="Kenya"></nz-option>
                        <nz-option nzValue="KI" nzLabel="Kiribati"></nz-option>
                        <nz-option nzValue="KP" nzLabel="Korea, Democratic People's Republic of"></nz-option>
                        <nz-option nzValue="KR" nzLabel="Korea, Republic of"></nz-option>
                        <nz-option nzValue="XK" nzLabel="Kosovo"></nz-option>
                        <nz-option nzValue="KW" nzLabel="Kuwait"></nz-option>
                        <nz-option nzValue="KG" nzLabel="Kyrgyzstan"></nz-option>
                        <nz-option nzValue="LA" nzLabel="Lao People's Democratic Republic"></nz-option>
                        <nz-option nzValue="LV" nzLabel="Latvia"></nz-option>
                        <nz-option nzValue="LB" nzLabel="Lebanon"></nz-option>
                        <nz-option nzValue="LS" nzLabel="Lesotho"></nz-option>
                        <nz-option nzValue="LR" nzLabel="Liberia"></nz-option>
                        <nz-option nzValue="LY" nzLabel="Libyan Arab Jamahiriya"></nz-option>
                        <nz-option nzValue="LI" nzLabel="Liechtenstein"></nz-option>
                        <nz-option nzValue="LT" nzLabel="Lithuania"></nz-option>
                        <nz-option nzValue="LU" nzLabel="Luxembourg"></nz-option>
                        <nz-option nzValue="MO" nzLabel="Macao"></nz-option>
                        <nz-option nzValue="MK" nzLabel="Macedonia, the Former Yugoslav Republic of"></nz-option>
                        <nz-option nzValue="MG" nzLabel="Madagascar"></nz-option>
                        <nz-option nzValue="MW" nzLabel="Malawi"></nz-option>
                        <nz-option nzValue="MY" nzLabel="Malaysia"></nz-option>
                        <nz-option nzValue="MV" nzLabel="Maldives"></nz-option>
                        <nz-option nzValue="ML" nzLabel="Mali"></nz-option>
                        <nz-option nzValue="MT" nzLabel="Malta"></nz-option>
                        <nz-option nzValue="MH" nzLabel="Marshall Islands"></nz-option>
                        <nz-option nzValue="MQ" nzLabel="Martinique"></nz-option>
                        <nz-option nzValue="MR" nzLabel="Mauritania"></nz-option>
                        <nz-option nzValue="MU" nzLabel="Mauritius"></nz-option>
                        <nz-option nzValue="YT" nzLabel="Mayotte"></nz-option>
                        <nz-option nzValue="MX" nzLabel="Mexico"></nz-option>
                        <nz-option nzValue="FM" nzLabel="Micronesia, Federated States of"></nz-option>
                        <nz-option nzValue="MD" nzLabel="Moldova, Republic of"></nz-option>
                        <nz-option nzValue="MC" nzLabel="Monaco"></nz-option>
                        <nz-option nzValue="MN" nzLabel="Mongolia"></nz-option>
                        <nz-option nzValue="ME" nzLabel="Montenegro"></nz-option>
                        <nz-option nzValue="MS" nzLabel="Montserrat"></nz-option>
                        <nz-option nzValue="MA" nzLabel="Morocco"></nz-option>
                        <nz-option nzValue="MZ" nzLabel="Mozambique"></nz-option>
                        <nz-option nzValue="MM" nzLabel="Myanmar"></nz-option>
                        <nz-option nzValue="NA" nzLabel="Namibia"></nz-option>
                        <nz-option nzValue="NR" nzLabel="Nauru"></nz-option>
                        <nz-option nzValue="NP" nzLabel="Nepal"></nz-option>
                        <nz-option nzValue="NL" nzLabel="Netherlands"></nz-option>
                        <nz-option nzValue="AN" nzLabel="Netherlands Antilles"></nz-option>
                        <nz-option nzValue="NC" nzLabel="New Caledonia"></nz-option>
                        <nz-option nzValue="NZ" nzLabel="New Zealand"></nz-option>
                        <nz-option nzValue="NI" nzLabel="Nicaragua"></nz-option>
                        <nz-option nzValue="NE" nzLabel="Niger"></nz-option>
                        <nz-option nzValue="NG" nzLabel="Nigeria"></nz-option>
                        <nz-option nzValue="NU" nzLabel="Niue"></nz-option>
                        <nz-option nzValue="NF" nzLabel="Norfolk Island"></nz-option>
                        <nz-option nzValue="MP" nzLabel="Northern Mariana Islands"></nz-option>
                        <nz-option nzValue="NO" nzLabel="Norway"></nz-option>
                        <nz-option nzValue="OM" nzLabel="Oman"></nz-option>
                        <nz-option nzValue="PK" nzLabel="Pakistan"></nz-option>
                        <nz-option nzValue="PW" nzLabel="Palau"></nz-option>
                        <nz-option nzValue="PS" nzLabel="Palestinian Territory, Occupied"></nz-option>
                        <nz-option nzValue="PA" nzLabel="Panama"></nz-option>
                        <nz-option nzValue="PG" nzLabel="Papua New Guinea"></nz-option>
                        <nz-option nzValue="PY" nzLabel="Paraguay"></nz-option>
                        <nz-option nzValue="PE" nzLabel="Peru"></nz-option>
                        <nz-option nzValue="PH" nzLabel="Philippines"></nz-option>
                        <nz-option nzValue="PN" nzLabel="Pitcairn"></nz-option>
                        <nz-option nzValue="PL" nzLabel="Poland"></nz-option>
                        <nz-option nzValue="PT" nzLabel="Portugal"></nz-option>
                        <nz-option nzValue="PR" nzLabel="Puerto Rico"></nz-option>
                        <nz-option nzValue="QA" nzLabel="Qatar"></nz-option>
                        <nz-option nzValue="RE" nzLabel="Reunion"></nz-option>
                        <nz-option nzValue="RO" nzLabel="Romania"></nz-option>
                        <nz-option nzValue="RU" nzLabel="Russian Federation"></nz-option>
                        <nz-option nzValue="RW" nzLabel="Rwanda"></nz-option>
                        <nz-option nzValue="BL" nzLabel="Saint Barthelemy"></nz-option>
                        <nz-option nzValue="SH" nzLabel="Saint Helena"></nz-option>
                        <nz-option nzValue="KN" nzLabel="Saint Kitts and Nevis"></nz-option>
                        <nz-option nzValue="LC" nzLabel="Saint Lucia"></nz-option>
                        <nz-option nzValue="MF" nzLabel="Saint Martin"></nz-option>
                        <nz-option nzValue="PM" nzLabel="Saint Pierre and Miquelon"></nz-option>
                        <nz-option nzValue="VC" nzLabel="Saint Vincent and the Grenadines"></nz-option>
                        <nz-option nzValue="WS" nzLabel="Samoa"></nz-option>
                        <nz-option nzValue="SM" nzLabel="San Marino"></nz-option>
                        <nz-option nzValue="ST" nzLabel="Sao Tome and Principe"></nz-option>
                        <nz-option nzValue="SA" nzLabel="Saudi Arabia"></nz-option>
                        <nz-option nzValue="SN" nzLabel="Senegal"></nz-option>
                        <nz-option nzValue="RS" nzLabel="Serbia"></nz-option>
                        <nz-option nzValue="CS" nzLabel="Serbia and Montenegro"></nz-option>
                        <nz-option nzValue="SC" nzLabel="Seychelles"></nz-option>
                        <nz-option nzValue="SL" nzLabel="Sierra Leone"></nz-option>
                        <nz-option nzValue="SG" nzLabel="Singapore"></nz-option>
                        <nz-option nzValue="SX" nzLabel="Sint Maarten"></nz-option>
                        <nz-option nzValue="SK" nzLabel="Slovakia"></nz-option>
                        <nz-option nzValue="SI" nzLabel="Slovenia"></nz-option>
                        <nz-option nzValue="SB" nzLabel="Solomon Islands"></nz-option>
                        <nz-option nzValue="SO" nzLabel="Somalia"></nz-option>
                        <nz-option nzValue="ZA" nzLabel="South Africa"></nz-option>
                        <nz-option nzValue="GS" nzLabel="South Georgia and the South Sandwich Islands"></nz-option>
                        <nz-option nzValue="SS" nzLabel="South Sudan"></nz-option>
                        <nz-option nzValue="ES" nzLabel="Spain"></nz-option>
                        <nz-option nzValue="LK" nzLabel="Sri Lanka"></nz-option>
                        <nz-option nzValue="SD" nzLabel="Sudan"></nz-option>
                        <nz-option nzValue="SR" nzLabel="Suriname"></nz-option>
                        <nz-option nzValue="SJ" nzLabel="Svalbard and Jan Mayen"></nz-option>
                        <nz-option nzValue="SZ" nzLabel="Swaziland"></nz-option>
                        <nz-option nzValue="SE" nzLabel="Sweden"></nz-option>
                        <nz-option nzValue="CH" nzLabel="Switzerland"></nz-option>
                        <nz-option nzValue="SY" nzLabel="Syrian Arab Republic"></nz-option>
                        <nz-option nzValue="TW" nzLabel="Taiwan, Province of China"></nz-option>
                        <nz-option nzValue="TJ" nzLabel="Tajikistan"></nz-option>
                        <nz-option nzValue="TZ" nzLabel="Tanzania, United Republic of"></nz-option>
                        <nz-option nzValue="TH" nzLabel="Thailand"></nz-option>
                        <nz-option nzValue="TL" nzLabel="Timor-Leste"></nz-option>
                        <nz-option nzValue="TG" nzLabel="Togo"></nz-option>
                        <nz-option nzValue="TK" nzLabel="Tokelau"></nz-option>
                        <nz-option nzValue="TO" nzLabel="Tonga"></nz-option>
                        <nz-option nzValue="TT" nzLabel="Trinidad and Tobago"></nz-option>
                        <nz-option nzValue="TN" nzLabel="Tunisia"></nz-option>
                        <nz-option nzValue="TR" nzLabel="Turkey"></nz-option>
                        <nz-option nzValue="TM" nzLabel="Turkmenistan"></nz-option>
                        <nz-option nzValue="TC" nzLabel="Turks and Caicos Islands"></nz-option>
                        <nz-option nzValue="TV" nzLabel="Tuvalu"></nz-option>
                        <nz-option nzValue="UG" nzLabel="Uganda"></nz-option>
                        <nz-option nzValue="UA" nzLabel="Ukraine"></nz-option>
                        <nz-option nzValue="AE" nzLabel="United Arab Emirates"></nz-option>
                        <nz-option nzValue="GB" nzLabel="United Kingdom"></nz-option>
                        <nz-option nzValue="US" nzLabel="United States"></nz-option>
                        <nz-option nzValue="UM" nzLabel="United States Minor Outlying Islands"></nz-option>
                        <nz-option nzValue="UY" nzLabel="Uruguay"></nz-option>
                        <nz-option nzValue="UZ" nzLabel="Uzbekistan"></nz-option>
                        <nz-option nzValue="VU" nzLabel="Vanuatu"></nz-option>
                        <nz-option nzValue="VE" nzLabel="Venezuela"></nz-option>
                        <nz-option nzValue="VN" nzLabel="Viet Nam"></nz-option>
                        <nz-option nzValue="VG" nzLabel="Virgin Islands, British"></nz-option>
                        <nz-option nzValue="VI" nzLabel="Virgin Islands, U.s."></nz-option>
                        <nz-option nzValue="WF" nzLabel="Wallis and Futuna"></nz-option>
                        <nz-option nzValue="EH" nzLabel="Western Sahara"></nz-option>
                        <nz-option nzValue="YE" nzLabel="Yemen"></nz-option>
                        <nz-option nzValue="ZM" nzLabel="Zambia"></nz-option>
                        <nz-option nzValue="ZW" nzLabel="Zimbabwe"></nz-option>
                      </nz-select>
                    </nz-form-control>
                  </nz-form-item>
                </div>
                <nz-alert nzType="error" [nzMessage]="shippingError" *ngIf="shippingError" nzShowIcon>
                </nz-alert>
                <div *ngIf="!isOrderInvalid" class="cart-product col-md-12">
                  <h2>My Shopping ({{products.length}})</h2>
                  <div>
                    <div class="product-list">
                      <nz-card [nzLoading]="shippingLoader">

                        <nz-collapse>
                          <nz-collapse-panel [nzExtra]="showDropdown"
                            nzHeader="Shipping from {{getStoreName(store.storeId)}}"
                            *ngFor="let store of storewiseProducts;  let i = index">
                            <ng-container [formGroup]="c.controls[i]">
                              <!-- <ng-template #showDropdown>
                              <div class="pricing-dropdown text-right">
                                <nz-form-control nzErrorTip="Select your Shipping">
                                  <nz-select [nzDisabled]="!getShippingOptions(store.storeId)" nzShowSearch nzAllowClear
                                    [(ngModel)]="selectedValue" nzPlaceHolder="Select shipping"
                                    (click)="setDeliveryOption(store.storeId,shipping)">
                                    <nz-option *ngFor="let shipping of getShippingOptions(store.storeId)"
                                      nzValue="{{shipping.carrier_id}}" nzLabel="{{getShippingLabel(shipping)}}">
                                    </nz-option>
                                  </nz-select>

                                </nz-form-control>
                              </div>
                            </ng-template> -->


                              <input type="text" hidden formControlName="storeId">
                              <ng-container *ngIf="getShippingOptions(store.storeId)">
                                <div class="outline-bottom">
                                <nz-form-control>
                                  <nz-radio-group (ngModelChange)="setDeliveryOption($event,store.storeId)"
                                    formControlName="carrier_id">
                                    <label class="pb-3" nz-radio nzValue="{{shipping.carrier_id}}"
                                      *ngFor="let shipping of getShippingOptions(store.storeId)">{{getShippingLabel(shipping)}}</label>
                                  </nz-radio-group>
                                </nz-form-control>
                              </div>
                              </ng-container>



                              <div class="product" *ngFor="let storeproducts of store.products">
                                <div class="single-product">
                                  <a>
                                    <div class="product-img">
                                      <img [src]="storeproducts?.images[0]?.url"
                                        [alt]="storeproducts?.images[0]?.alt" />
                                    </div>
                                    <div class="product-body">
                                      <h2 [routerLink]="['/shop/products',storeproducts.slug]">{{ storeproducts?.name }}
                                      </h2>
                                      <p>{{ storeproducts?.summary }}</p>
                                      <div class="price">
                                        {{ (storeproducts?.discountedPrice ? storeproducts?.discountedPrice :
                                        storeproducts?.salePrice) | currency :'USD':'symbol':'1.0-2' }}
                                        <span class="discount" *ngIf="storeproducts?.discountedPrice">{{
                                          storeproducts?.salePrice | currency :'USD':'symbol':'1.0-2' }}</span>
                                      </div>
                                      <p *ngIf="!getShippingOptions(store.storeId) || !c.controls[i].controls.carrier_id.value"
                                        class="text-danger">Please Choose
                                        Postal Code and Country
                                        to
                                        see shipping charges</p>
                                    </div>
                                  </a>

                                </div>
                              </div>
                            </ng-container>
                          </nz-collapse-panel>
                        </nz-collapse>

                      </nz-card>


                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
          <div class="checkout-step-3" *ngIf="current === paymentOptionsStep">
            <div class="payment-option" ngxStripeCardGroup [elementsOptions]="elementsOptions">
              <div nz-row class="card-info" [ngClass]="{'errorBorder' : showInvalidCardError}">
                <p class="card-header">{{ "paymentDetails" | translate }}</p>
                <div nz-col nzSpan="24" class="card-number-col">
                  <ngx-stripe-card-number [options]="cardOptions"></ngx-stripe-card-number>
                </div>
                <div nz-col nzSpan="11" class="card-expiry-col">
                  <ngx-stripe-card-expiry [options]="cardOptions"></ngx-stripe-card-expiry>
                </div>
                <div nz-col nzSpan="12" class="card-cvc-col">
                  <ngx-stripe-card-cvc [options]="cardOptions"></ngx-stripe-card-cvc>
                </div>
                <div nz-col nzSpan="24" class="m-t-10 card-number-col">
                  <input nz-input type="text" required placeholder="CARD HOLDER NAME" [(ngModel)]="cardHolderName" />
                </div>
              </div>
            </div>
            <p *ngIf="showInvalidCardError" class="err-msg">{{ "invalidCardErrorMessage" | translate }}</p>
          </div>

          <div class="checkout-step-4" *ngIf="current === orderStatusStep">
            <div class="placed-order">
              <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                xmlns:svgjs="http://svgjs.com/svgjs" version="1.1" width="512" height="512" x="0" y="0"
                viewBox="0 0 420 420.96068" style="enable-background:new 0 0 512 512" xml:space="preserve" class="">
                <g>
                  <path xmlns="http://www.w3.org/2000/svg"
                    d="m313.460938 262.605469c34.878906 2.765625 63.332031 29.050781 68.847656 63.605469 5.511718 34.550781-13.339844 68.386718-45.625 81.875-32.285156 13.488281-69.609375 3.125-90.3125-25.082032-.140625-.1875-.28125-.378906-.421875-.578125-16.605469-23.085937-18.890625-53.523437-5.917969-78.832031 12.96875-25.308594 39.011719-41.226562 67.449219-41.230469 2.011719 0 4.011719.082031 5.980469.242188zm0 0"
                    fill="#49eb1a" data-original="#6fe3ff" style="" class="" />
                  <path xmlns="http://www.w3.org/2000/svg"
                    d="m235.710938 106.625h32.820312c10.164062 0 18.8125 7.398438 20.390625 17.441406l24.539063 138.539063c-1.96875-.160157-3.96875-.242188-5.980469-.242188-28.4375.003907-54.480469 15.921875-67.449219 41.230469-12.972656 25.308594-10.6875 55.746094 5.917969 78.832031l-.808594.578125h-196.371094c-22.804687 0-41.289062-18.484375-41.289062-41.289062l38.550781-217.648438c1.574219-10.042968 10.226562-17.441406 20.390625-17.441406zm0 0"
                    fill="#ff0000" data-original="#e48e66" style="" class="" />
                  <g xmlns="http://www.w3.org/2000/svg" fill="#63316d">
                    <path
                      d="m319.445312 256.253906-23.621093-133.34375c-2.085938-13.445312-13.6875-23.34375-27.292969-23.285156h-25.820312v-24.390625c0-41.550781-33.683594-75.234375-75.234376-75.234375-41.550781 0-75.234374 33.683594-75.234374 75.234375v24.390625h-25.820313c-13.605469-.058594-25.210937 9.839844-27.296875 23.285156l-38.539062 217.585938c-.070313.402344-.105469.808594-.105469 1.21875.03125 26.65625 21.632812 48.261718 48.289062 48.289062h194.167969c23.230469 28.929688 62.867188 38.875 97 24.332032 34.132812-14.539063 54.425781-50.011719 49.65625-86.804688s-33.4375-65.921875-70.148438-71.277344zm-213.203124-181.019531c0-33.820313 27.414062-61.234375 61.234374-61.234375 33.816407 0 61.234376 27.414062 61.234376 61.234375v24.390625h-122.46875zm-91.757813 267.066406 38.4375-217.015625c.007813-.046875.015625-.09375.023437-.140625 1.015626-6.648437 6.75-11.550781 13.476563-11.519531h25.820313v38.03125c0 3.863281 3.132812 7 7 7 3.863281 0 7-3.136719 7-7v-38.03125h122.46875v38.03125c0 3.863281 3.132812 7 7 7 3.867187 0 7-3.136719 7-7v-38.03125h25.820312c6.726562-.03125 12.460938 4.871094 13.472656 11.519531.007813.046875.015625.09375.023438.140625l23.050781 130.140625c-28.410156.832031-54.410156 16.175781-68.871094 40.644531-14.460937 24.46875-15.359375 54.644532-2.382812 79.933594h-185.054688c-18.699219-.019531-33.941406-15.003906-34.285156-33.703125zm293 64.644531c-21.902344-.046874-42.488281-10.476562-55.484375-28.105468-.101562-.140625-.207031-.28125-.367188-.507813-15.066406-20.953125-17.140624-48.578125-5.371093-71.546875 11.773437-22.96875 35.410156-37.417968 61.21875-37.421875 1.820312 0 3.640625.074219 5.410156.21875h.023437c36.824219 2.910157 64.773438 34.382813 63.316407 71.292969-1.460938 36.910156-31.8125 66.078125-68.75 66.070312zm0 0"
                      fill="#000000" data-original="#63316d" style="" class="" />
                    <path
                      d="m342.996094 311.351562-45.425782 43.375-23.71875-23.730468c-2.734374-2.734375-7.167968-2.734375-9.902343 0s-2.734375 7.167968 0 9.898437l28.5625 28.570313c2.6875 2.691406 7.03125 2.742187 9.785156.113281l50.367187-48.097656c2.796876-2.671875 2.898438-7.101563.230469-9.898438-2.671875-2.796875-7.101562-2.898437-9.898437-.226562zm0 0"
                      fill="#000000" data-original="#63316d" style="" class="" />
                  </g>
                </g>
              </svg>
              <h2>Thank you, Your order has been placed successfully</h2>
              <div class="error-actions cart-btn">
                <a [routerLink]="[ '/' ]" class="btn btn-primary btn-lg">
                  <span class="glyphicon glyphicon-home"></span>
                  Take Me Home </a>
                <a [routerLink]="[ '/shop' ]" class="btn btn-default btn-lg">
                  <span class="glyphicon glyphicon-envelope"></span>Continue Shopping</a>
              </div>
            </div>
          </div>
        </div>
        <div class="steps-action">
          <button nz-button nzType="default" class="m-r-10 custom-btn gray-btn" (click)="pre()"
            *ngIf="current > deliveryAddressStep && current < orderStatusStep">
            <span>Previous</span>
          </button>
          <button nz-button nzType="default" class="custom-btn btn-red" (click)="next()"
            *ngIf="current === deliveryAddressStep" [disabled]="products?.length == 0">
            <span>Next</span>
          </button>
          <button nz-button nzType="primary" class="custom-btn" (click)="placeOrder()"
            *ngIf="current === paymentOptionsStep" [disabled]="products?.length == 0" [nzLoading]="isPlacingOrder">
            <span>Place Order</span>
          </button>
        </div>
      </div>
      <div class="checkout">
        <app-cart-calculator [products]="products" [config]="config" [shippingCharge]="shippingPrice">
        </app-cart-calculator>
      </div>
    </div>
  </div>
  <nz-modal [(nzVisible)]="isOrderIssueVisible" nzTitle="Please remove below products from your cart to place order" (nzOnCancel)="handleCancel()" (nzOnOk)="handleOk()">
    <ng-container>
      <div *ngIf="crossCrountryProducts.length > 0" class="crossCrountryProducts">
        <h4>International shipping unavailable on below products</h4>
        <ul class="order-list">
          <li class="order" *ngFor="let product of crossCrountryProducts">
            <div *ngIf="config?.isCheckout" class="product-img">
              <img [src]="product?.images[0]?.url" [alt]="product?.images[0]?.alt" />
            </div>
            <span>{{ product.name }}</span>
            <strong *ngIf="product?.discountedPrice; else productSalePrice">{{ product?.discountedPrice | currency:'USD':'symbol':'1.0-2' }}</strong>
            <ng-template #productSalePrice>
              <strong>{{ product?.salePrice | currency :'USD':'symbol':'1.0-2' }}</strong>
            </ng-template>
          </li>
        </ul>
      </div>
      <div *ngIf="inactiveStoreProducts.length > 0" class="crossCrountryProducts">
        <br/><br/>
        <h4>Products not available to order at moment.</h4>
        <ul class="order-list">
          <li class="order" *ngFor="let product of inactiveStoreProducts">
            <div *ngIf="config?.isCheckout" class="product-img">
              <img [src]="product?.images[0]?.url" [alt]="product?.images[0]?.alt" />
            </div>
            <span>{{ product.name }}</span>
            <strong *ngIf="product?.discountedPrice; else productSalePrice">{{ product?.discountedPrice | currency:'USD':'symbol':'1.0-2' }}</strong>
            <ng-template #productSalePrice>
              <strong>{{ product?.salePrice | currency :'USD':'symbol':'1.0-2' }}</strong>
            </ng-template>
          </li>
        </ul>
      </div>
    </ng-container>
  </nz-modal>
</section>
